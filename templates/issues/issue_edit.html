{% extends "issues/base.html" %}
{% load static %}
{% load addcss %}

{% block bodyClass %}issue-overview issue-overview-v2{% endblock %}

{% block pageTitle %}
Edit Issue
{% endblock %}

{% block contextNav %}
    <li><a href="{% url 'issues.views.issue_overview' issue.id %}">Back to Issue</a></li>
    <li><a href="{% url 'projects.views.project_overview' issue.project.id %}">{{issue.project.name}}</a></li>
{% endblock%}

{% block additionalHead %}
<link rel="stylesheet" href="{% static 'css/test_template.css' %}">
{{ form.media }}
{% endblock %}

{% block bodyContent %}
	<form action="{% url 'issues.views.edit' issue.id %}" method="post" enctype="multipart/form-data" class='form-horizontal'>
		{{ form.non_field_errors }}
        {% csrf_token %}
		
		<div class="row-fluid">
		
			<!-- Begin span6 -->
			<div class="span9">
			
				<!-- Begin well -->
				<div class="well">
					<label>{{ form.summary.label }}</label>
					{{ form.summary }}
				
					<label>{{ form.description.label }}</label>
					{{ form.description }}
				</div>
				<!-- End well -->
			
				<!-- Begin well -->
				<div class="well">
				
					<label>{{ form.meta_issues.label }}</label>
					{{ form.meta_issues|addcss:"input-block-level" }}
		
				</div>
				<!-- End well -->
			
				<!-- Begin row-fluid -->
				<div class="row-fluid">
				
					<div class="span4">
					
						<!-- Begin well -->
						<div class="well">
						
							<label>{{ form.date_reported.label }}</label>
							{{ form.date_reported|addcss:"input-block-level" }}
						
							<label>{{ form.point_of_contact.label }}</label>
							{{ form.point_of_contact|addcss:"input-block-level" }}
						
						</div>
						<!-- End well -->

					</div>
			
					<div class="span4">
					
						<!-- Begin well -->
						<div class="well">
							<label>{{ form.modified_by.label }}</label>
							{{ form.modified_by|addcss:"input-block-level" }}
						</div>
						<!-- End well -->
					
					</div>
				
					<div class="span4">
						<!-- Begin well -->
						<div class="well">
							<label>{{ form.view_type.label }}</label>
							{{ form.view_type|addcss:"input-block-level" }}
						
							<label>{{ form.fixability.label }}</label>
							{{ form.fixability|addcss:"input-block-level" }}
						</div>
						<!-- End well -->
					
					</div>
				
				</div>
				<!-- End row-fluid -->
				
				<!-- Begin row-fluid -->
				<div class="row-fluid">
			        <div class="well">
						<label>Attachments</label>
			            <input type="file" name="myfiles" multiple>
			        </div>
				</div>
				<!-- End row-fluid -->
			
			</div>
			<!-- End span6 -->
		
			<!-- Begin span6 -->
			<div class="span3">
			
				<div class="well">
				
					<label>{{ form.project.label }}</label>
					{{ form.project|addcss:"input-block-level" }}
				
					<hr />
				
					<label>{{ form.assigned_to.label }}</label>
					{{ form.assigned_to|addcss:"input-block-level" }}
				
					<label>{{ form.issue_type.label }}</label>
					{{ form.issue_type|addcss:"input-block-level" }}
			
					<label>{{ form.status.label }}</label>
					{{ form.status|addcss:"input-block-level" }}
				
					<label>{{ form.criticality.label }}</label>
					{{ form.criticality|addcss:"input-block-level" }}
				
					<hr />
				
					<label>{{ form.os.label }}</label>
					{{ form.os|addcss:"input-block-level" }}
				
					<label>{{ form.os_version.label }}</label>
					{{ form.os_version|addcss:"input-block-level" }}
				
					<label>{{ form.browser.label }}</label>
					{{ form.browser|addcss:"input-block-level" }}
				
					<label>{{ form.browser_version.label }}</label>
					{{ form.browser_version|addcss:"input-block-level" }}
				
				</div>
			
				<!-- Begin well -->
				<div class="well text-center">
					<input type="submit" value="Save" class="btn btn-primary" /> <button class="btn btn-link">Cancel</button>
				</div>
				<!-- End well -->
			
			</div>
			<!-- End span6 -->
		
		</div>

    </form>
{% endblock %}

{% block endScripts %}
    <script>
        $(function(){
            $('input[name="projected_start"]').datepicker();
            $('input[name="projected_end"]').datepicker();
            $('input[name="actual_start"]').datepicker();
            $('input[name="actual_end"]').datepicker();
            $('input[name="due_date"]').datepicker();
            $('input[name="date_reported"]').datepicker();
        });
        $("#button").click(function(e) {
            var x = $('#something').val();
            alert(x);
        });
    </script>
{% endblock %}
